<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Developing PhoneGap Apps</title>

		<meta name="description" content="Developing PhoneGap Apps">
		<meta name="author" content="Don Coleman">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2>Developing PhoneGap Apps</h2>
					<p>Snow Mobile 2/16/13</p>
					<p>
						<small>Don Coleman <br/>
						    Chariot Solutions <br/>
						    <a href="http://twitter.com/doncoleman">@doncoleman</a>
						    
						</small>
					</p>
				</section>

                <section>
                    <blockquote>PhoneGap is an open source solution for building cross-platform mobile apps with standards-based Web technologies like HTML, JavaScript, CSS.</blockquote>
                </section>

                <section>
                    <h1>Cordova</h1>
                    <h2>vs</h2> 
                    <h1>PhoneGap</h1>
                    <aside class="notes">
                        Nitobi, Adobe, ASF

                         Cordova is the open source project.
                         PhoneGap is "sort of the 'official' distribution of Cordova"
                         
                         Use PhoneGap and Cordova interchangeably in this presentation   
                         
                         There are other distributions - IBM Worklight, AppMobi, whatever SAP calls
                         their thing, whatever Salesforce calls theirs.                      
					</aside>                    
                </section>

                <section>
                    <p>PhoneGap Supports Many Platforms</p>
                    <p class="fragment">iOS, Android</p>
					<p class="fragment">Windows Phone, Blackberry</p>
					<p class="fragment">Symbian, Bada, WebOS</p>
					<p class="fragment">Tizen, Chrome, Windows 8</p>
                </section>

                <section>
                    <p>PhoneGap embeds a web view in a native app</p>
                </section>
                
                <section>
                    <p>JavaScript API</p>
                    <aside class="notes">
                        Ideally this would be the same everywhere. Realistically there are platform quirks, noted in the docs.
					</aside>
					
                </section>                
                
                <section>
                    <h2>Access Device Features</h2>
                    <p>
                    <ul>
                        <li>Accelerometer</li>
                        <li>Camera</li>
                        <li>Capture</li>
                        <li>Compass</li>
                        <li>Connection</li>
                        <li>Contacts</li>
                        <li>Device</li>
                        </ul>
                        <ul>
                        <li>Events</li>                            
                        <li>File</li>
                        <li>Geolocation</li>
                        <li>Globalization</li>
                        <li>Media</li>
                        <li>Notification</li>
                        <li>Storage</li>
                    </ul>
                    </p>
                    <small>
                    <a href="http://docs.phonegap.com/en/2.4.0/index.html">http://docs.phonegap.com/en/2.4.0/index.html</a><br/>
                    <a href="http://phonegap.com/about/feature">http://phonegap.com/about/feature</a>
                    </small>
                    <aside class="notes">TODO replace with screenshot http://phonegap.com/about/feature/</asize>
                </section>

                <section>
                    <p>Your app is a native app</p>
                    <aside class="notes">
                        Compiled
                        Deployed through the app store
                        User's don't know or care that it's build with HTML
                    </aside>
                </section>
                
                <section>
                    <p>PhoneGap does not provide a UI</p>
                </section>

                <section>
                    <blockquote>Can I wrap any website in PhoneGap and magically have a mobile app?</blockquote>
                </section>

                <section>
                    <h1>NO!</h1>
                    <aside class="notes">
                        Technically could wrap a website, but apple would never approve.
                        Most HTML, JS and CSS lives on the device.                        
                        Use JSON to communicate with the server
					</aside>                    
                </section>

                <section>
                    <p>Single Page App</p>
                </section>                

                <!-- THIS IS A NEW SECTION -->
                <section>
                    How do I get started?
                </section>

                <section>
                    <h2>Download</h2>
                    <a href="http://phonegap.com/download">http://phonegap.com/download</a>
                    <aside class="notes">
                        I use a Mac so I'll describe those commands. All this should apply to Linux and Windows too.                        
					</aside>
                </section>
                
                <section>
                    <p>Unzip archive</p>
                    <p class="fragment">move somewhere like /usr/local/phonegap-2.4.0</p>
                    <aside class="notes">
                        TODO maybe ~/phonegap-2.4.0
					</aside>
                </section>

                <section>
                    <p>Do you have platform tools installed?</p>
                    <p class="fragment">Xcode</p>
                    <p class="fragment">Android SDK</p>
                    <p class="fragment">Visual Studio</p>                        
                    <p class="fragment">BlackBerry Webworks SDK</p>                                            
                    <aside class="notes">
                        This is a necessary evil
                        Might be able to avoid later with PhoneGap Build
					</aside>
                </section>               
                
                <section>
                    <section>
                        <h2>Demo</h2>
                    </section>
                    
                    <section>
                        <p style="font-size: 1.8em">iOS</p>
                        <pre><code contenteditable>
$ cd /usr/local/phonegap-2.4.0
$ cd lib/ios/bin
$ ./create ~/foo com.example.foo Foo 
$ cd ~/foo
$ ./cordova/emulate                       
                        </code></pre>
                        <aside class="notes">
                            cordova WON'T deploy to a device, need fruitstrap or some other 3rd party stuff
                            
                            ./create --help
                            Usage: ./create [--shared] <path_to_new_project> <package_name> <project_name>
                            	--shared (optional): Link directly against the shared copy of the CordovaLib instead of a copy of it.
                            	<path_to_new_project>: Path to your new Cordova iOS project
                            	<package_name>: Package name, following reverse-domain style convention
                            	<project_name>: Project name


                            use ./cordova/debug to run again
                            or run from with in Xcode
                        </aside>
                    </section>

                    <section>
                        <img src="images/cordova-generated-ios-project.png" />
                    </section>                    
                    
                </section>
                            
                <section>
                    <img src="images/cordova-ios-directory-structure.png" />
                    <aside class="notes">                   
                    </aside>
                </section>

                <section>
                    <img src="images/cordova-ios-directory-structure-annotated.png" />
                </section>
                
                <section>
                    <h2>Android</h2>
                    <pre><code contenteditable>
$ cd /usr/local/phonegap-2.4.0
$ cd lib/android/bin
$ ./create ~/foo com.example.foo Foo 
$ cd ~/foo
$ ./cordova/run
                    </code></pre>
                    <aside class="notes">
                        cordova commands are completely inconsistent
                        
                        $ ./create -h
                        usage: create path package activity
                        Make sure the Android SDK tools folder is in your PATH!
                        
                        emulate only starts the emulator
                    </aside>
                </section>

                <section>
                    <img src="images/cordova-generated-android-project.png" />
                </section>
                
                <section>
                    <img src="images/cordova-android-directory-structure.png" />
                    <aside class="notes">
                        TODO annotate this images with
                            assets/www - this is the part you care about                        
                    </aside>
                </section>
                
                <section>
                    <img src="images/cordova-android-directory-structure-annotated.png" />
                </section>
                          
                <section>
                    <p>PhoneGap Getting Started Guides</p>
                    <a href="http://docs.phonegap.com/en/2.4.0/guide_getting-started_index.md.html">http://docs.phonegap.com/en/2.4.0/guide_getting-started_index.md.html</a>
                    <aside class="notes">
                        We'll use the command line
                    </aside>
                </section>
                                
                <section>
                    So we created a project, now what?
                </section>

                <section>
                    The www directory is just a web project
                    <aside class="notes">TODO get new screenshot with cordova 2.4</aside>
                </section>
                
                <section>
                    <img src="images/www.png">
                </section>

                <!-- TODO kill this slide? -->
                <section>
                    How does it work?
                    <aside class="notes">
                    <p>load Cordova framework</p>
                    <p>load Application's javascript</p>
                    </aside>
                </section>
                
                <section>
                    <p>index.html</p>
                    <pre><code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    ...
        &lt;script src="cordova-2.4.0.js"&gt;&lt;/script&gt;
        &lt;script src="js/index.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript"&gt;
            app.initialize();
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
                    </code></pre>
                    <aside class="notes">
                    </aside>
                </section>
                
                <section>
                    <p>index.js</p>
                    <pre><code>
var app = {
    initialize: function() {
        this.bindEvents();
    },
    bindEvents: function() {
        document.addEventListener(
            'deviceready', this.onDeviceReady, false);
    },
    onDeviceReady: function() {
        // your code here
    }
};
                    </code></pre>
                    <aside class="notes">
                        It is important to not call phonegap apis before the deviceready fires
                    </aside>
                </section>

                <section>
                    <h2>Camera</h2>
                    <pre><code contenteditable>
navigator.camera.getPicture( 
    cameraSuccess, cameraError, [ cameraOptions ] );
                    </code></pre>
                    <small class="fragment"><a href="http://docs.phonegap.com/en/2.4.0/cordova_camera_camera.md.html">http://docs.phonegap.com/en/2.4.0/cordova_camera_camera.md.html</a></small>
                </section>

                <section>
                    <p>API Call</p>                    
                    <pre><code>
navigator.camera.getPicture(
    onSuccess, 
    onFailure, 
    { 
        quality: 50, 
        destinationType: Camera.DestinationType.FILE_URI 
    }
);                         
                    </code></pre>
                </section>

                <section>
                    <p>Callbacks</p>
                    <pre><code contenteditable>
function onSuccess(imageURI) {
    image.src = imageURI;
}

function onFailure(message) {
    alert('Failed because: ' + message);
}
                    </code></pre>
                </section>                

                <section>
                    <p>Permissions</p>
                    <pre><code>
&lt;uses-permission 
    android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
                    </pre></code>
                    <aside class="notes">
                        http://docs.phonegap.com/en/2.4.0/cordova_camera_camera.md.html
                    </aside>
                </section>

                <section>
                    <p>index.html</p>
                    <pre><code>
&lt;div&gt;
    &lt;div&gt;
        &lt;img id="image"&gt;&lt;/img&gt;
    &lt;div&gt;
    &lt;div&gt;
        &lt;h1 id="cameraLabel"&gt;Camera&lt;/h1&gt;
    &lt;div&gt;            
&lt;/div&gt;
                    </code></pre>
                    <aside class="notes">
                    </aside>
                </section>

                
                <section>
                    <p>index.js</p>
                    <pre><code>
var app = {
    initialize: function() {
        this.bindEvents();
    },
    bindEvents: function() {
        document.addEventListener(
            'deviceready', this.onDeviceReady, false);
    },
    onDeviceReady: function() {
        cameraLabel.addEventListener(
            'touchstart', app.takePicture, false);
    },
    takePicture: function() {
        // ...
    }
};
                    </code></pre>
                    <aside class="notes">
                        It is important to not call phonegap apis before the deviceready fires
                    </aside>
                </section>
                
                <section>
                    <p>index.js</p>
                    <pre><code>
takePicture: function() {
    navigator.camera.getPicture(
        function(imageURI) { // success
            image.src = imageURI;
        }, 
        function(error) { // failure
            console.log("error");
        }, 
        { // options
            quality: 50,
            destinationType: navigator.camera.DestinationType.FILE_URI,
            targetWidth: 320,
            targetHeight: 320,
            allowEdit: true,
            saveToPhotoAlbum: false
        }
    );
}
                    </code></pre>
                    <aside class="notes">
                        It is important to not call phonegap apis before the deviceready fires
                    </aside>
                </section>

                <section>
                    <section>
                         <img src="images/camera1.jpg" />
                    </section>
                    <section>
                         <img src="images/camera2.jpg" />
                    </section>
                    <section>
                         <img src="images/camera3.jpg" />
                    </section>
                    <section>
                         <img src="images/camera4.jpg" />
                    </section>
                </section>

                
                <!-- TODO need a transition here? -->
                
                
                <!-- TODO move this up? or rename -->
                <section>
                    <p>Lots of other APIs</p>
                    <a href="http://docs.phonegap.com/en/2.4.0/index.html">http://docs.phonegap.com/en/2.4.0/index.html</a>
                </section>
                
                <!-- TODO what if you want to do something phonegap doesn't do -->
                                                                
                <!-- new section -->

                <section>
                    <h2>Troubleshooting</h2>
                    <p class="fragment">read the log output</p>
    				<p class="fragment">ensure code is valid with jshint</p>
                </section>         

                         
                <section>
                    <h2>Web Inspector</h2>
                    <aside class="notes">iOS 6 and BlackBerry only</aside>
                    <!-- TODO screenshots -->
                </section>         
                
                <section>
                     <img src="images/web_inspector_on.png" />
                </section>

                <section>
                     <img src="images/web_inspector_safari_menu.png" />
                </section>
                
                <section>
                    <img src="images/web_inspector.png" />
                </section>
                                
                <section>
                    <h2>Ripple</h2>
                    <a href="http://emulate.phonegap.com">http://emulate.phonegap.com</a>
                    <aside class="notes">
                        Chrome Plugin
                        Emulates the Cordova API calls
                        Tiny Hippos / Blackberry
                        Cross Domain Proxy
                        http://www.tricedesigns.com/2012/07/31/emulating-phonegapcordova-apps-in-the-browser/
                    </aside>
                </section>
                
                <section>
                    <img src="images/ripple_home.png" />
                </section>

                <section>
                    <img src="images/ripple.png" />
                </section>

                <section>
                    <h2>Weinre</h2>
                    <a href="http://debug.phonegap.com">http://debug.phonegap.com</a>
                    <aside class="notes">
                        Need to add a line to your index.html to include the javascript 
                        Patrick Muller - IBM
                        npm install weinre -g
                    </aside>
                </section>

                <section>
                    <img src="images/weinre_home.png" />
                </section>

                <section>
                    <img src="images/weinre.png" />
                </section>
                          
                <section>
                    <p>Other ways to debug</p>
                    <aside class="notes">
                    console.log<br/>
                    use chrome, disable security
                    paste a shim in for the stuff you care about
                    
                    Debug native code in Xcode or IntelliJ or Visual Studio<br/>
                    Debug embedded webview with Safari or Chrome tools
                    </aside>
                </section>
                
                <!-- new section -->
                
                    <section>
                        <h2>Plugins</h2>
                        <p>Extend PhoneGap</p>
                        <p class="fragment">
                            <a href="https://github.com/phonegap/phonegap-plugins">
                                https://github.com/phonegap/phonegap-plugins</a></p>
                        <aside class="notes">
                            Plugins were in this giant repo. Starting to break out into separate repos.
                            Lots of plugins available<br/>                        
                            Write your own<br/>
                            Great way to see how Cordova works<br/>                        
                        </aside>
                    </section>

                    <section>
                        <h2>Barcode Scanner</h2>
                        <small><a href="https://github.com/phonegap/phonegap-plugins/tree/master/iOS/BarcodeScanner
                        ">https://github.com/phonegap/phonegap-plugins/tree/master/iOS/BarcodeScanner
                        </a></small>
                        <!-- maybe show screenshot of instructions? -->
                        <p class="fragment">Copy barcode.js into www</p>
    					<p class="fragment">Copy zxing-all-in-one.cpp, zxing-all-in-one.h to Plugins</p>					
    					<p class="fragment">Copy CDVBarcodeScanner.mm to Plugins</p>
    					<p class="fragment">Copy scannerOverlay.xib to Resources</p>
    					<p class="fragment">Add files to the XCode project</p>
    					<p class="fragment">add plugin to config.xml</p>
                    </section>


                    <!-- TODO pick a real plugin and manually install?? 
                    Barcode Scanner
                    Build an iOS app                
                    -->

                    <!-- What is in a plugin?  -->

                  
    <!--                
                    <section>
                        <p>JavaScript to Native Bridge</p>
                        <pre><code>
                    cordova.exec(successCallback,
                        failureCallback,
                        service,
                        action, 
                        args)
                        </code></pre>                    
                    </section>
    -->                

                    <section>
                        <p>Plugin Specification</p>
                        <a href="https://github.com/alunny/cordova-plugin-spec">https://github.com/alunny/cordova-plugin-spec</a>
                    </section>                   

                    <!-- TODO pluginstall strike out plugman-->

                    <section>
                        <h2>plugman</h2>
                        <p>A command line tool to distribute and package plugins for use with Apache Cordova</p>
                        <a href="https://github.com/imhotep/plugman">https://github.com/imhotep/plugman</a>
                    </section>

                    <section>
                        <pre><code contenteditable>
    $ plugman
    Usage
    ---------
    Add a plugin:
    	plugman --platform <ios|android|bb10|www> --project <directory> --plugin <directory|git-url|name>

    Remove a plugin:
    	plugman --remove --platform <ios|android|bb10|www> --project <directory> --plugin <directory|git-url|name>

    List plugins:
    	plugman --list
    	</code></pre>
                    </section>              

                   <section>
                        <pre><code contenteditable>
    $ plugman --list
    BarcodeScanner - Cross-platform BarcodeScanner for Cordova/PhoneGap
    ChildBrowser - ChildBrowser plugin
    Facebook-Connect - Official plugin for Facebook Connect 
    GAPlugin - Google Analytics Plugin
    KeychainPlugin - Keychain Plugin for Apache Cordova
    NFC - Near Field Communication Plugin
    PushPlugin - Push Notification Plugin for iOS and Android
    TestflightPlugin - TestFlight Plugin for Apache Cordova</code></pre>
                    </section>                

                    <section>
                         <pre><code contenteditable>    
    plugman --platform ios --project platforms/ios --plugin BarcodeScanner
                        </code></pre>
                    </section>
                    
                    <section>
                        PhoneGap is built out of plugins
                    </section>                                    
                
                <!-- new section -->
                                
                <section>
                    <h2>Managing code</h2>
                    <h2>across multiple platforms</h2>
                </section>

                <section>
                    <h2>cordova-cli</h2>                    
                </section>
                
                <section>
                    <img src="images/cordova-cli.png" />
                </section>
                
                <!-- new section -->
                
                <section>
                    <h2>fruitstrap</h2>
                    <p>Install and debug iPhone apps without using Xcode</p>
                    <a href="https://github.com/filmaj/fruitstrap">https://github.com/filmaj/fruitstrap</a>
                    <!-- pesky GPL problem, can't be part of Cordova -->
                </section>

                <section>
                    <h2>medic</h2>
                    <p>Continuous integration setup for Apache Cordova</p>
                    <a href="https://github.com/filmaj/medic">https://github.com/filmaj/medic</a>
                </section>

                
                <!-- new section -->                
                
                <section>
                    <h2>PhoneGap Build</h2>
                    <a href="http://build.phonegap.com/">http://build.phonegap.com/</a>
                    <aside class="notes">
                        Commercial Service, recently out of beta.
                        Saves you from having to install SDKs.

                        iOS, Android, Windows Phone, Blackberry, WebOS, Symbian

                        Only limited plugins available

                        Still need the SDKs installed.
                        Get app working on one platform, then use PGBuild

                        Upload keys to server for signing

                        There is an API to automate, so you don't need to use the GUI
                    </aside>
                </section>
                                
                <section>
                    <img src="images/phonegap_build_home.png" />
                </section>

<!--
                <section>
                    <p>Sample Application</p>
                    <a href="https://github.com/phonegap/phonegap-start">https://github.com/phonegap/phonegap-start</a>
                </section>

                <section>
                    <img src="images/phonegap_build_hello.png" />
                </section>
                
                <section>
                    <img src="images/phonegap_build_public_page.png" />
                </section>

-->
                <section>
                    <h1>Questions?</h1>
                </section>

                <section>
                    <h2>Thank You</h2>
                    <p>Don Coleman</p>
                    <a href="mailto:don@chariotsolutions.com">don@chariotsolutions.com</a><br/>				    
				    <a href="http://twitter.com/doncoleman">@doncoleman</a><br/>
				    <a href="http://don.github.com/slides/2013-02-16-snow-mobile">http://don.github.com/slides/2013-02-16-snow-mobile</a>
                </section>
   						
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
                rollingLinks: false,
                
				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
		
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-1093669-12']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
	</body>
</html>